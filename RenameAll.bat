@ECHO OFF
SETLOCAL ENABLEDELAYEDEXPANSION
COLOR 0A
TITLE keith batch rename tool
ECHO.
ECHO =================================
ECHO     ??????????
ECHO =================================
ECHO.
ECHO ???????????????:
ECHO.
ECHO 1. ????(???????)
ECHO 2. txt
ECHO 3. png
ECHO 4. ??,??????
ECHO.
CHOICE /C 1234 /m "?????: "
IF %ERRORlEVEL% equ 1 SET suffix=*
IF %ERRORlEVEL% equ 2 SET suffix=txt
IF %ERRORlEVEL% equ 3 SET suffix=png
IF %ERRORlEVEL% equ 4 (
ECHO.
SET /P suffix="????????????: "
)
ECHO.
SET /p prefix="??????????????: "
ECHO.
ECHO ??ing...
ECHO.
SET /a index=0
FOR %%i in (*.!suffix!) do (
    SET /a index=!index!+1
    SET name=!prefix!!index!.!suffix!
    REN "%%i" !name!
)
IF %ERRORlEVEL% equ 0 (
    ECHO ????!
) ELSE (
    ECHO ????!
)
ECHO.
PAUSE

rem ren *.???? *.????? ? *.?????   ;???????